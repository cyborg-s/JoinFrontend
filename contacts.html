<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Join | Contacts</title>
  <link rel="icon" type="image/x-icon" href="./assets/img/logo_coloured.svg">
  <link rel="stylesheet" href="./css/font.css">
  <link rel="stylesheet" href="./css/side_menu.css">
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/contact.css">
  <link rel="stylesheet" href="./css/responsive_contact.css">
  <style type="text/css" id="operaUserStyle"></style>
  <script src="./js/contact.js"></script>
  <script src="./js/contact_Mobile.js"></script>
  <script src="js/contactsfirebase.js"></script>
  <script src=" js/dropDownMenuAndGoBack.js"></script>
  <script src="./js/contactsvalidateform.js"></script>
  <style>
    .d-block {
      display: block;
    }
    .error-message {
    color: red;
    font-size: 12px;
    
    height: 15px;

    #content-area {
  overflow-y: auto;  
}

}
#content-area {
  overflow-y: auto;  }


  </style>
</head>
<body onload="fetchData()">
  <div w3-include-html="./assets/templates/side_menu.html">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join</title>
    <link rel="icon" type="image/x-icon" href="/imgs/join_logo.png">
    <link rel="stylesheet" href="./css/side_menu.css">
    <link rel="stylesheet" href="./css/font.css">
    <link rel="stylesheet" href="./css/style.css">
    <meta charset="UTF-8">
    <section id="Sidebar" class="sidebar"><a href="summary.html">
      <img src="./assets/img/logo.svg" class="logomenubar d-none-mobile" alt="logo_join">
  </a>
      <nav>
        <a id="summarylink" href="./summary.html"><img src="./assets/img/icon_summary.svg" alt="Summary">Summary</a>
        <a id="task-link" href="./add_task.html"><img src="./assets/img/icon_addTask.svg" alt="Addtask">Add Task</a>
        <a id="board-link" href="./board.html"><img src="./assets/img/icon_board.svg" alt="Board">Board</a>
        <a class="highlight" id="link-contact" href="./contacts.html" class="bg-focus"><img src="./assets/img/icon_contacts.svg"
            alt="Contacts">Contacts</a>
      </nav>
      <div class="bottom-menu-link d-none-mobile">
        <a href="./privacy-police.html" onclick="saveTheUrl()">Privacy Policy</a>
        <a href="./legal_notice.html">Legal notice</a>
      </div>
    </section>
  </div>
  <main>
    <div w3-include-html="./assets/templates/header.html" class="fixed-header">
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Join</title>
      <link rel="icon" type="image/x-icon" href="./imgs/join_logo.png">
      <link rel="stylesheet" href="./css/header.css">
      <link rel="stylesheet" href="./css/font.css">
      <link rel="stylesheet" href="./css/style.css">
      <meta charset="UTF-8">
      <header id="header">
        <a href="summary.html">
          <img src="imgs/mobile-header-logo.png" alt="Join logo" class="mobile-logo">
      </a>
        <p class="header-description d-none-mobile">Kanban Project Management Tool</p>
        <div class="header-right">
          <a href="./help.html" class="help-img-link cp"><img src="./assets/img/icon_help.svg" alt="help" class="d-none-mobile"></a>
          <div onclick="showDropdownMenu()" class="header-right-user dflex-c-c cp" id="userInitials"><div>G</div></div>
        </div>
      </header>
      </section>
      <section id="headerDropdownOption" class="d-noneHead">
        <div class="headerDropdownOption">
          <a href="./legal_notice.html">Legal Notice</a>
          <a href="./privacy-police.html">Privacy Policy</a>
          <a onclick="logout()">Log out</a>
        </div>
      </section>
    </div>
    <div class="layout-wrapper" id="layout-wrapper">
      <section id="mycontacts" class="contacts">
        <div class="addContact">
          <button onclick="openClosePopUp('open', key = false)" class="addContactButton position-fixed">Add new Contact
            <img src="./contact-assets/img/addPerson.png" alt=""></button>
            <button onclick="openClosePopUp('open', key = false)" class="addContactButtonResponsiv position-fixed">
              <img src="./contact-assets/img/addPerson.png" alt=""></button>
        </div>
        <div class="list" id="contacts">
          <h3 class="letter">A</h3>
          <div class="contactCard">
            <div id="letter" class="one_letter" style="background-color: #AFA53D;">A</div>
            <div class="fullName-email">
              <a class="email" href="#"></a>
            </div>
          </div>
        </div>
      </section>
      <section id="content-area" class="content-section dNone">
        <div class="h2-span">
          <div class="text">
            <h2 class="h2Contacts">Contacts</h2>
            <span>Better with a team</span>
            <div class="underline"></div>
          </div>
          <div id="responsiveContactBackButton" class="returnToContacts">
            <img class="closeMobile backArrow" onclick="showContactMobile()" src="assets/img/icon_back.svg">
            <img class="closeMobile editMenu" id="options_edit_delete" onclick="showEditandDelete()" src="imgs/option_Btn.png">
          </div>
        </div>
        <div id="content" class="moreAboutContent"></div>
        <div class="information" id="information"></div>
      </section>
      <div id="modalBackground" onclick="openClosePopUp('close')" class="displayNone bg-popUp">


<div onclick="openClosePopUp(event)" class="popUp slide-in">

  <div class="popUp-logo">
   
    <div id="return_mobilePopUp" class="return-mobilePopUp displayNone">
      <img onclick="openClosePopUp('close')" src="contact-assets/img/close.png" alt="Close Button">
    </div>
    
    <div class="logo-box">
      <img class="logo" src="./contact-assets/img/logo.png" alt="Logo">
    </div>
 
    <div class="edit-logo-box">
      <img class="edit-logo addLogo" src="./contact-assets/img/add-contact.png" alt="Add Contact">
    </div>
  </div>

  <div class="popUp-content">
    
    <div class="close-button">
      <img onclick="openClosePopUp('close')" src="./contact-assets/img/close.png" alt="Close Button">
    </div>

    <div class="pic_inputs">
      <div class="center-pic">
        <img class="profile-pic" src="./contact-assets/img/empty-profil.png" alt="Profile Picture">
      </div>

      <div class="contact_input">
        <form class="form" id="addContactForm" onsubmit="createNewContact(event)">
      
          <input id="name" placeholder="Name" type="text" onblur="validateEditField('name')" oninput="checkFormFields2()">
          <div id="nameError" class="error-message"></div>
          
       
          <input id="email" placeholder="Email" type="email" onblur="validateEditField('email')" oninput="checkFormFields2()">
          <div id="emailError" class="error-message"></div>

          <input type="tel" id="tel" placeholder="Phone, Exemple: +491721234567" onblur="validateEditField('tel')" oninput="checkFormFields2()">
          <div id="telError" class="error-message"></div>

          <div class="contact_button">
            <button type="button" onclick="openClosePopUp('close')" class="cancel-Button">Cancel</button>
            <button id="createSubmit" type="submit" class="createButton" disabled>Create Contact</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

      </div>
      <div id="EditModalBackground" onclick="openClosePopUp('close', key = true)" class="displayNone bg-popUp">
        <div onclick="openClosePopUp(event)" class="popUp">
          <div class="popUp-logo">
            
            <div class="logo-box"><img class="logo" src="./contact-assets/img/logo.png" alt=""></div>
            <div class="edit-logo-box"><img class="edit-logo" src="./contact-assets/img/edit-contact.png" alt=""></div>
          </div>
          
          <div class="popUp-content"><div class="close-button"><img onclick="openClosePopUp('close', key = true)"
                src="./contact-assets/img/close.png" alt="">
            </div>
            
            <div class="pic_inputs">
              <div class="edit-window">
              <span id="letterForPopUp" class="letter_For_PopUp"></span>
            </div>
              <div class="contact_input2">


                <form class="form" id="editContactForm" onsubmit="modifyContact(event)">
                  <input id="editName" placeholder="Name" type="text" onblur="validateEditField('editName')" oninput="checkFormFields()">
                  <div id="editNameError" class="error-message"></div>
              
                  <input id="editEmail" placeholder="Email" type="email" onblur="validateEditField('editEmail')" oninput="checkFormFields()">
                  <div id="editEmailError" class="error-message"></div>
              
                  <input id="editTel" placeholder="Phone, Exemple +491721234567" type="tel" onblur="validateEditField('editTel')" oninput="checkFormFields()">
                  <div id="editTelError" class="error-message"></div>
              
                  <div class="contact_button">
                      <button onclick="removeContact('contact', keyForEdit)" type="button" class="cancel-Button">
                          Delete <img src="./contact-assets/img/close.png" alt="">
                      </button>
                      <button id="editSubmit" type="submit" class="createButton saveButton" >
                          Save <img class="check" src="./contact-assets/img/check.png" alt="">
                      </button>
                  </div>
                </form>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
<script>
const user = JSON.parse(localStorage.getItem('user'));

if (!user) {
  window.location.href = './index.html';
}

function getInitials(name) {
  const nameParts = name.trim().split(' ');
  if (nameParts.length === 1) {
    return nameParts[0].charAt(0).toUpperCase();
  }
  return nameParts[0].charAt(0).toUpperCase() + nameParts[1].charAt(0).toUpperCase(); 
}

const initials = getInitials(user.name || 'G');

const userInitialsDiv = document.getElementById('userInitials');
if (userInitialsDiv) {
  userInitialsDiv.querySelector('div').textContent = initials;
}
</script>
</body>
</html>